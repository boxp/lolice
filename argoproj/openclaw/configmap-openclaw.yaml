apiVersion: v1
kind: ConfigMap
metadata:
  name: openclaw-config
  namespace: openclaw
data:
  openclaw.json: |
    {
      "models": {
        "providers": {
          "litellm": {
            "baseUrl": "http://litellm.openclaw.svc.cluster.local:4000",
            "apiKey": "${LITELLM_PROXY_KEY}",
            "api": "openai-chat"
          }
        },
        "sonnet": {
          "provider": "litellm",
          "model": "anthropic/claude-sonnet-4-5-20250929",
          "alias": "Sonnet"
        },
        "opus": {
          "provider": "litellm",
          "model": "anthropic/claude-opus-4-6",
          "alias": "Opus"
        }
      },
      "agents": {
        "defaults": {
          "model": {
            "primary": "sonnet",
            "fallbacks": ["opus"]
          },
          "sandbox": {
            "mode": "all",
            "scope": "agent",
            "workspaceAccess": "rw",
            "docker": {
              "image": "openclaw-sandbox:bookworm-slim",
              "network": "bridge",
              "user": "1000:1000"
            }
          }
        }
      },
      "tools": {
        "elevated": {
          "mode": "ask",
          "ask": "on-miss"
        }
      },
      "channels": {
        "discord": {
          "enabled": true,
          "token": "${DISCORD_BOT_TOKEN}",
          "dm": {
            "enabled": true,
            "policy": "allowlist"
          }
        }
      },
      "gateway": {
        "bind": "lan",
        "port": 18789,
        "auth": {
          "token": "${OPENCLAW_GATEWAY_TOKEN}"
        }
      }
    }
